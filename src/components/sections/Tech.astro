---
import Carousel from '../ui/carousel/index.astro'
import { Icon } from 'astro-icon/components'

export const techs = [
  {
    name: 'Programming Languages',
    members: ['Rust', 'Javascript', 'Typescript', 'Python', 'PHP'],
    icons: ['rs', 'js', 'ts', 'py', 'php'],
  },
  {
    name: 'Databases',
    members: ['MySQL', 'PostgreSQL', 'Firestore', 'Redis'],
    icons: ['mysql', 'pg', 'fstore', 'redis'],
  },
  {
    name: 'Backends',
    members: [
      'FastAPI',
      'Express JS',
      'Django',
      'NextJS',
      'Actix',
      'Fastify',
      'Flask',
      'Home Assistant',
      'Laravel',
    ],
    icons: [
      'fastapi',
      'ex',
      'django',
      'nextjs',
      'actix',
      'fastify',
      'flask',
      'ha',
      'laravel',
    ],
  },
  {
    name: 'Frontends',
    members: ['React JS', 'Vue', 'Astro'],
    icons: ['react', 'vue', 'astro'],
  },
  {
    name: 'Cross Platforms',
    members: ['Tauri'],
    icons: ['tauri'],
  },
  {
    name: 'Virtualization & Containers',
    members: ['Docker', 'WASM'],
    icons: ['docker', 'wa'],
  },
  {
    name: 'Clouds',
    members: ['AWS'],
    icons: ['aws'],
  },
]

const navIDs = techs.map((tech) => tech.name.replaceAll(' ', '').toLowerCase())

// let bgHover: string[][] = []
// let bg: string[][] = []
// for (let i = 0; i < techs.length; i++) {
//   const _colors = techs[i].colors
//   bgHover.push(_colors.map((color) => `hover:bg-${color}-950/20`))
//   bg.push(_colors.map((color) => `bg-${color}-600`))
// }
---

<div
  class="flex max-h-96 w-full touch-auto snap-x snap-mandatory gap-8 overflow-auto scroll-smooth"
>
  <Carousel data={navIDs}>
    {
      techs.map((tech, i1) => {
        return (
          <div id={navIDs[i1]} class="w-full shrink-0 snap-center px-4">
            <h3 class="mb-4 text-center text-xl font-bold text-red-300">
              {tech.name}
            </h3>
            <div class="grid w-full grid-cols-3 gap-2 lg:grid-cols-2">
              {tech.members.map((member, i) => {
                return (
                  <div
                    class={`hover:bg-primary-950/20 glass-card flex aspect-auto flex-col items-center justify-center rounded-xl p-3 transition-colors lg:aspect-square`}
                  >
                    <Icon name={tech.icons[i]} class="h-10 w-10" />
                    {/* <div
                      class={`bg-primary mb-2 flex h-10 w-10 items-center justify-center rounded-lg text-sm font-bold text-white`}
                    ></div> */}
                    <span class="text-center text-xs font-semibold">
                      {member}
                    </span>
                  </div>
                )
              })}
            </div>
          </div>
        )
      })
    }
  </Carousel>
</div>
